<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>David Clicker V3</title>
<style>
  body { text-align: center; font-family: Arial, sans-serif; background: #f0f0f0; }
  h1 { margin-top: 20px; }
  #score { font-size: 36px; margin: 20px; }
  #player-container {
    display: inline-block;
    border: 3px solid black;
    border-radius: 10px;
    padding: 10px;
    user-select: none; /* emp√™che la s√©lection */
  }
  #player {
    font-size: 80px;
    cursor: pointer;
    transition: transform 0.1s;
    user-select: none;
    display: inline-block;
  }
  #player:hover { transform: scale(1.2); }
  button { font-size: 18px; padding: 8px 16px; margin: 5px; cursor: pointer; }
</style>
</head>
<body>

<h1>David Clicker V3</h1>
<div id="score">Score : 0</div>

<div id="player-container">
  <div id="player">‚ù§Ô∏è</div>
</div>

<div>
  <button id="upgradeBtn">Upgrade (+1 point/clic) - 10 points</button>
  <button id="autoClickBtn">Auto-Clicker (+1 point/s) - 50 points</button>
  <button id="doubleBtn">Double Points 10s - 30 points</button>
</div>

<script>
let score = parseInt(localStorage.getItem('score')) || 0;
let pointsPerClick = parseInt(localStorage.getItem('pointsPerClick')) || 1;
let autoClickers = parseInt(localStorage.getItem('autoClickers')) || 0;
let doubleActive = false;

const scoreDisplay = document.getElementById('score');
const player = document.getElementById('player');
const upgradeBtn = document.getElementById('upgradeBtn');
const autoClickBtn = document.getElementById('autoClickBtn');
const doubleBtn = document.getElementById('doubleBtn');

const hearts = ['‚ù§Ô∏è','üíõ','üíö','üíô','üíú','üñ§','üß°','ü§ç','ü§é'];

function updateScore() {
  scoreDisplay.textContent = 'Score : ' + score;
}

// Clique sur l'√©moji c≈ìur
player.addEventListener('click', () => {
  let gain = doubleActive ? pointsPerClick * 2 : pointsPerClick;
  score += gain;
  localStorage.setItem('score', score);
  updateScore();

  // changer couleur / √©moji c≈ìur al√©atoire
  player.textContent = hearts[Math.floor(Math.random() * hearts.length)];
});

// Upgrade
upgradeBtn.addEventListener('click', () => {
  if(score >= 10) {
    score -= 10;
    pointsPerClick += 1;
    localStorage.setItem('score', score);
    localStorage.setItem('pointsPerClick', pointsPerClick);
    updateScore();
    alert('Upgrade achet√© ! Tu gagnes maintenant ' + pointsPerClick + ' points par clic.');
  } else {
    alert('Pas assez de points pour l‚Äôupgrade !');
  }
});

// Auto-Clicker
autoClickBtn.addEventListener('click', () => {
  if(score >= 50) {
    score -= 50;
    autoClickers += 1;
    localStorage.setItem('score', score);
    localStorage.setItem('autoClickers', autoClickers);
    updateScore();
    alert('Auto-Clicker achet√© ! +' + autoClickers + ' point/s');
  } else {
    alert('Pas assez de points pour l‚Äôauto-clicker !');
  }
});

// Double points temporaire
doubleBtn.addEventListener('click', () => {
  if(score >= 30 && !doubleActive) {
    score -= 30;
    localStorage.setItem('score', score);
    doubleActive = true;
    updateScore();
    alert('Double points activ√© pendant 10 secondes !');
    setTimeout(() => { doubleActive = false; alert('Double points termin√©.'); }, 10000);
  } else if(doubleActive) {
    alert('Double points d√©j√† actif !');
  } else {
    alert('Pas assez de points pour double points !');
  }
});

// Boucle auto-clicker
setInterval(() => {
  if(autoClickers > 0) {
    score += autoClickers;
    localStorage.setItem('score', score);
    updateScore();
  }
}, 1000);

// initialisation
updateScore();
</script>

</body>
</html>
